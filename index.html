<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GAME CARS</title>
    <link rel="stylesheet" href="index.css">
    <link rel="shortcut icon" href="images/logo-32x32-cars.png" type="image/x-icon">
    <style>
        /* Estilos CSS para la página */
        body {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
            margin: 0;
            color: aliceblue;
            font-size: 25px;
        }

        #container {
            text-align: center;
        }

        canvas {
            border: 10px solid rgb(250, 0, 0);
            /* Coloca imagen de fondo en el lienzo */
            background-image: url(images/race-track.png);
            background-size: cover;
            /* Ajusta el tamaño de la imagen para cubrir todo el fondo */
            background-position: center;
            /* Centra la imagen en la pantalla */
            background-repeat: no-repeat;
            /* Evita que la imagen se repita */
            margin-top: 20px;
        }

        h1 {
            margin-bottom: 20px;
        }

        button {
            padding: 20px 30px;
            /* Ajusta el tamaño del botón cambiando los valores de padding */
            font-size: 20px;
            /* Ajusta el tamaño del texto del botón */
            border-radius: 8px;
            /* Ajusta la forma del botón */
            background-color: #ff0000;
            /* Color de fondo del botón */
            color: white;
            /* Color del texto del botón */
            border: none;
            /* Elimina el borde del botón */
            cursor: pointer;
            /* Cambia el cursor al pasar sobre el botón */
        }
    </style>
</head>

<body>
    <div id="container">
        <h1>GAME RACE CAR'S, VELOCITY RANDOM</h1>
        <button onclick="startRace()">Start Race</button>

        <audio controls autoplay loop>
            <source src="sounds/Tokyo Drift (Fast & Furious)-music.mp3" type="audio/mp3">
        </audio>
    </div>
    <canvas id="areaDibujo" width="450" height="450"></canvas>

    <script>
        // JavaScript para la animación y lógica del juego
        function startRace() {
            alert("Starting Race.");

            // Iniciar el bucle de dibujo después de mostrar el mensaje
            setInterval(dibujar, 100);
        }

        var canvas = document.getElementById("areaDibujo");
        var ctx = canvas.getContext("2d");

        var posicionXcar1 = 0;
        var posicionYcar1 = 20;
        var posicionXcar2 = 0;
        var posicionYcar2 = 120;
        var imagenWidth = 80;
        var imagenHeight = 80;

        var imageCar1 = new Image();
        var imageCar2 = new Image();
        var numeroRandomPosicionXCar1 = Math.floor(Math.random() * 11) + 3;
        var numeroRandomPosicionXCar2 = Math.floor(Math.random() * 11) + 3;

        // Asignar las rutas de las imágenes
        imageCar1.src = "images/car1.png";
        imageCar2.src = "images/car2.png";

        // Funciones que se ejecutan cuando las imágenes se cargan
        imageCar1.onload = function () {
            drawCar1();
        }
        imageCar2.onload = function () {
            drawCar2();
        }

        // Funcion para dibujar los carros en el lienzo
        function drawCar1() {
            ctx.drawImage(imageCar1, posicionXcar1, posicionYcar1, 75, 75);
            posicionXcar1 += numeroRandomPosicionXCar1;

            if (posicionXcar1 >= canvas.width) {
                posicionXcar1 = 0;
                posicionYcar1 = 250;
            }
        }

        function drawCar2() {
            ctx.drawImage(imageCar2, posicionXcar2, posicionYcar2, 80, 80);
            posicionXcar2 += numeroRandomPosicionXCar2;

            if (posicionXcar2 >= canvas.width) {
                posicionXcar2 = 0;
                posicionYcar2 = 340;
            }
        }

        // Función principal de dibujo, se ejecuta en un bucle
        function dibujar() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            drawCar1();
            drawCar2();
        }

    </script>

</body>

</html>
